{"version":3,"file":"static/js/254.8bf49a59.chunk.js","mappings":"+JACA,EAAoC,uC,SCGrB,SAASA,IACpB,OACI,gBAAKC,UAAYC,EAA0B,UACvC,SAAC,KAAW,CAACC,MAAM,UAAUC,MAAO,CAAE,SAAU,WAG5D,C,qLCHe,SAASC,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAAwBC,EAAAA,EAAAA,UAAmB,IAAG,eAAvCC,EAAI,KAAEC,EAAO,KACpB,GAA8BF,EAAAA,EAAAA,WAAS,GAAM,eAAtCG,EAAO,KAAEC,EAAU,KAC1B,GAA8BJ,EAAAA,EAAAA,UAAS,GAAE,eAAlCK,EAAO,KAAEC,EAAU,KACpBC,EAAQ,yCAAG,0GAEGC,EAAAA,EAAAA,IAAM,CACtBC,IAAI,sDAAD,OAAwDJ,EAAO,iCAClEK,QAAS,CACP,gBACE,wEACF,SAAU,gCAEX,KAAD,EAPIC,EAAG,OAQTT,GAAQ,SAACU,GAAG,wBAASA,IAAG,OAAKD,EAAIV,KAAKA,KAAKY,OAAK,IAChDT,EAAWO,EAAIV,KAAKA,KAAKY,MAAMC,OAAS,GACxCR,EAAWD,EAAU,GAAG,2CACzB,kBAba,mCAmBd,OAJAU,EAAAA,EAAAA,YAAU,WACRR,GAEF,GAAG,KAED,gBAAKd,UAAWC,EAAAA,QAAAA,eAAsB,UACpC,gBAAKD,UAAWC,EAAAA,QAAAA,iBAAwB,SACpCO,EAAKa,QAGL,iCACE,SAAC,KAAI,UACFb,EAAKe,KAAI,SAACC,EAAWC,GAAK,OACzB,SAAC,UAAS,CAERC,OAAQ,EACRC,QACE,SAAC,KAAK,CACJC,IAAKJ,EAAKK,OACVC,IAAI,QACJC,MAAO,GACPC,OAAQ,KAGZC,aACE,iBAAKjC,UAAWC,EAAAA,QAAAA,gBAAuB,WACrC,iBAAKD,UAAWC,EAAAA,QAAAA,UAAiB,WAC/B,iBAAKD,UAAWC,EAAAA,QAAAA,OAAc,sCAE5B,iBAAMD,UAAWC,EAAAA,QAAAA,MAAa,SAAEuB,EAAKU,YAEvC,iBAAKlC,UAAWC,EAAAA,QAAAA,OAAc,+BACxBuB,EAAKW,aAEX,iBAAKnC,UAAWC,EAAAA,QAAAA,OAAc,UAC3BuB,EAAKY,OAAM,MAAKZ,EAAKa,QAAO,sBAGjC,SAAC,KAAM,CACLrC,UAAWC,EAAAA,QAAAA,WACXC,MAAM,UACNoC,KAAK,UAAS,6BAMpBC,QAAU,WACRlC,EAAS,gBAAD,OAAiBmB,EAAKgB,QAChC,EAAG,UAEH,iBAAKxC,UAAWC,EAAAA,QAAAA,WAAkB,WAChC,iBAAMD,UAAWC,EAAAA,QAAAA,UAAiB,SAAEuB,EAAKiB,QACzC,iBAAMzC,UAAWC,EAAAA,QAAAA,UAAiB,SAAEuB,EAAKA,KAAKiB,WAvC3ChB,EAyCK,OAGhB,SAAC,KAAc,CACbX,SAAUA,EACVJ,QAASA,EACTgC,UAAW,IACV,QAtDL,SAAC,IAAW,OA4DtB,C,8BC9FA,WAAgB,eAAiB,mCAAmC,iBAAmB,qCAAqC,gBAAkB,oCAAoC,WAAa,+BAA+B,UAAY,8BAA8B,OAAS,2BAA2B,MAAQ,0BAA0B,WAAa,+BAA+B,UAAY,8BAA8B,UAAY,8B","sources":["webpack://maizuo/./src/components/PageLoading.module.scss?6732","components/PageLoading.tsx","views/films/NowPlaying.tsx","webpack://maizuo/./src/views/films/NowPlaying.module.scss?62c7"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loading_container\":\"PageLoading_loading_container__4zrqL\"};","import React from 'react'\nimport { SpinLoading } from 'antd-mobile'\nimport styles from './PageLoading.module.scss'\n\nexport default function PageLoading() {\n    return (\n        <div className={ styles.loading_container }>\n            <SpinLoading color=\"#ff5f16\" style={{ '--size': '48px' }}/>\n        </div>\n    )\n}\n","import React, { useEffect, useState } from \"react\";\nimport { InfiniteScroll, List, Image, Button } from \"antd-mobile\";\nimport axios from \"axios\";\nimport PageLoading from \"../../components/PageLoading\";\nimport styles from \"./NowPlaying.module.scss\";\nimport { useNavigate } from 'react-router-dom'\n\nexport default function NowPlaying() {\n  const navigate = useNavigate();\n  const [data, setData] = useState<string[]>([]);\n  const [hasMore, setHasMore] = useState(false);\n  const [pageNum, setPageNum] = useState(1);\n  const loadMore = async () => {\n    // 向后端请求数据\n    const res = await axios({\n      url: `https://m.maizuo.com/gateway?cityId=310100&pageNum=${pageNum}&pageSize=10&type=1&k=2984491`,\n      headers: {\n        \"X-Client-Info\":\n          '{\"a\":\"3000\",\"ch\":\"1002\",\"v\":\"5.2.0\",\"e\":\"16558863921792667809742849\"}',\n        \"X-Host\": \"mall.film-ticket.film.list\",\n      },\n    });\n    setData((val) => [...val, ...res.data.data.films]);\n    setHasMore(res.data.data.films.length > 0);\n    setPageNum(pageNum + 1);\n  };\n\n  useEffect(() => {\n    loadMore();\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <div className={styles.film_contianer}>\n      <div className={styles.homeList_content}>\n        {!data.length ? (\n          <PageLoading />\n        ) : (\n          <>\n            <List>\n              {data.map((item: any, index) => (\n                <List.Item\n                  key={index}\n                  arrow={ false }\n                  prefix={\n                    <Image\n                      src={item.poster}\n                      fit=\"cover\"\n                      width={66}\n                      height={92}\n                    />\n                  }\n                  description={\n                    <div className={styles.film_right_part}>\n                      <div className={styles.film_desc}>\n                        <div className={styles.detail}>\n                          观众评分\n                          <span className={styles.grade}>{item.grade}</span>\n                        </div>\n                        <div className={styles.detail}>\n                          导演：{item.director}\n                        </div>\n                        <div className={styles.detail}>\n                          {item.nation} | {item.runtime}分钟\n                        </div>\n                      </div>\n                      <Button\n                        className={styles.buyNow_btn}\n                        color=\"primary\"\n                        fill=\"outline\"\n                      >\n                        购票\n                      </Button>\n                    </div>\n                  }\n                  onClick={ () => {\n                    navigate(`/film/detail/${item.filmId}`)\n                  } }\n                >\n                  <div className={styles.film_title}>\n                    <span className={styles.film_name}>{item.name}</span>\n                    <span className={styles.film_type}>{item.item.name}</span>\n                  </div>\n                </List.Item>\n              ))}\n            </List>\n            <InfiniteScroll\n              loadMore={loadMore}\n              hasMore={hasMore}\n              threshold={0}\n            />{\" \"}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"film_contianer\":\"NowPlaying_film_contianer__2VHgN\",\"homeList_content\":\"NowPlaying_homeList_content__I-EIr\",\"film_right_part\":\"NowPlaying_film_right_part__yLRyF\",\"buyNow_btn\":\"NowPlaying_buyNow_btn__lJpd+\",\"film_desc\":\"NowPlaying_film_desc__elrMu\",\"detail\":\"NowPlaying_detail__JBjdu\",\"grade\":\"NowPlaying_grade__Z8Xd8\",\"film_title\":\"NowPlaying_film_title__e-F5G\",\"film_name\":\"NowPlaying_film_name__Z-zxh\",\"film_type\":\"NowPlaying_film_type__PczeF\"};"],"names":["PageLoading","className","styles","color","style","NowPlaying","navigate","useNavigate","useState","data","setData","hasMore","setHasMore","pageNum","setPageNum","loadMore","axios","url","headers","res","val","films","length","useEffect","map","item","index","arrow","prefix","src","poster","fit","width","height","description","grade","director","nation","runtime","fill","onClick","filmId","name","threshold"],"sourceRoot":""}