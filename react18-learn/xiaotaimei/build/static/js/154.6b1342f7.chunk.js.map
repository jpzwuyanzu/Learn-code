{"version":3,"file":"static/js/154.6b1342f7.chunk.js","mappings":"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","sources":["webpack://maizuo/./src/components/PageLoading.module.scss?6732","components/PageLoading.tsx","../node_modules/antd-mobile-icons/es/DownOutline.js","views/cinemas/Cinema.tsx","webpack://maizuo/./src/views/cinemas/Cinema.module.scss?072a"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loading_container\":\"PageLoading_loading_container__4zrqL\"};","import React from 'react'\nimport { SpinLoading } from 'antd-mobile'\nimport styles from './PageLoading.module.scss'\n\nexport default function PageLoading() {\n    return (\n        <div className={ styles.loading_container }>\n            <SpinLoading color=\"#ff5f16\" style={{ '--size': '48px' }}/>\n        </div>\n    )\n}\n","import * as React from \"react\";\n\nfunction DownOutline(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 48 48\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\"\n  }, props, {\n    style: Object.assign({\n      verticalAlign: '-0.125em'\n    }, props.style),\n    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"DownOutline-DownOutline\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"DownOutline-\\u77E9\\u5F62\",\n    fill: \"#FFFFFF\",\n    opacity: 0,\n    x: 0,\n    y: 0,\n    width: 48,\n    height: 48\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.11219264,16.3947957 L22.6612572,34.5767382 L22.6612572,34.5767382 C23.2125856,35.1304785 24.0863155,35.1630514 24.6755735,34.6744571 L24.7825775,34.5767382 L42.8834676,16.3956061 C42.9580998,16.320643 43,16.2191697 43,16.1133896 L43,12.9866673 C43,12.7657534 42.8209139,12.5866673 42.6,12.5866673 C42.4936115,12.5866673 42.391606,12.6290496 42.316542,12.7044413 L23.7816937,31.3201933 L23.7816937,31.3201933 L5.6866816,12.7237117 C5.53262122,12.5653818 5.27937888,12.5619207 5.121049,12.7159811 C5.04365775,12.7912854 5,12.8946805 5,13.0026627 L5,16.1170064 C5,16.2206403 5.04022164,16.3202292 5.11219264,16.3947957 Z\",\n    id: \"DownOutline-down\",\n    fill: \"currentColor\",\n    fillRule: \"nonzero\"\n  }))));\n}\n\nexport default DownOutline;","import React, { useState, useRef, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { SearchOutline, DownOutline } from 'antd-mobile-icons'\nimport { NavBar, Dropdown, List } from 'antd-mobile'\nimport styles from './Cinema.module.scss'\nimport choosedImg from './../../assets/imgs/choosed.png'\nimport axios from 'axios'\nimport PageLoading from '../../components/PageLoading'\nimport { useAppSelector } from './../../hooks/redux-hook'\nimport { SELECT_CITY_KEY } from './../../store/selectcity.slice'\n\nexport default function Cinema() {\n    const navigate = useNavigate();\n    const cityId = useAppSelector((state) => state[SELECT_CITY_KEY]['cityId']);\n    const cityName = useAppSelector((state) => state[SELECT_CITY_KEY]['name']);\n    const [activePart, setActivePart] = useState(0);\n    const [activeType, setActiveType] = useState(0);\n    const [activeRecent, setActiveRecent] = useState(0);\n    const [cinemaList, setCinemaList] = useState([]);\n    const cityPartList = ['全城','福田区','南山区','龙华区','龙岗区','宝安区','罗湖区','光明区','盐田区','坪山区','大鹏区'];\n    const tickedType = [{id: 1, text: 'APP订票'},{ id: 2, text: '前台兑换' }];\n    const recentPlace = [{ id: 0, text: '最近去过' }, { id: 1, text: '离我最近' }];\n    const  dropDownPartRef: any = useRef(null);\n    const rightPart = (<SearchOutline style={{ fontSize: 18 }} onClick={ () => navigate('/cinema/search') }/>)\n    const leftPart = (\n        <div className={ styles.leftPart } onClick={ () => navigate('/city') }>\n            { cityName }\n            <DownOutline style={{ marginLeft: '2px' }} />\n        </div>\n    )\n    const loadCinemaList = async () => {\n        const res = await axios({\n            url: `https://m.maizuo.com/gateway?cityId=${cityId}&ticketFlag=${tickedType[activeType].id}&k=7249404`,\n            headers: {\n              \"X-Client-Info\":\n                `{\"a\":\"3000\",\"ch\":\"1002\",\"v\":\"5.2.1\",\"e\":\"16558863921792667809742849\",\"bc\": \"${cityId}\"}`,\n              \"X-Host\": \"mall.film-ticket.cinema.list\",\n            },\n          });\n          setCinemaList(res.data.data.cinemas)\n    }\n    useEffect(() => {\n        loadCinemaList()\n        // eslint-disable-next-line\n    }, [])\n\n    return (\n        <>\n        <NavBar left={ leftPart } right={rightPart} back={ null }>影院</NavBar>\n        <div className={ styles.topFilterPart }>\n            <div className={ styles.filterItem }>\n                <Dropdown ref={ dropDownPartRef }>\n                    <Dropdown.Item key='sorter' title={ cityPartList[activePart] } arrow={ <DownOutline style={{ color: '#000' }} /> }>\n                        <div className={ styles.cityPart }>\n                            {\n                                cityPartList.map((item, index) => {\n                                    return <div key={index} className={ activePart === index ? styles.activeCityPart :  styles.partItem } onClick={ () => {\n                                        setActivePart(index)\n                                        dropDownPartRef.current?.close()\n                                    } }>{ item }</div>\n                                })\n                            }\n                        </div>\n                    </Dropdown.Item>\n                    <Dropdown.Item key='type' title={ tickedType[activeType].text } arrow={ <DownOutline style={{ color: '#000' }} /> }>\n                       <div className={ styles.line_container }>\n                           {\n                               tickedType.map((item, index) => {\n                               return <div key={ index } className={ styles.line_item } onClick={ () => {\n                                    setActiveType(index);\n                                    dropDownPartRef.current?.close()\n                                    loadCinemaList()\n                               } }>\n                                    { activeType === index && <img className={ styles.choose_icon } src={ choosedImg } alt=\"\"/> }\n                                    <div className={ activeType === index ? styles.active_text :  styles.item_text }>{ item.text }</div>\n                                </div>\n                               })\n                           }\n                            \n                       </div>\n                    </Dropdown.Item>\n                    <Dropdown.Item key='recent' title={ recentPlace[activeRecent].text } arrow={ <DownOutline style={{ color: '#000' }} /> }>\n                    <div className={ styles.line_container }>\n                           {\n                               recentPlace.map((item, index) => {\n                               return <div key={ index } className={ styles.line_item } onClick={ () => {\n                                setActiveRecent(index);\n                                dropDownPartRef.current?.close()\n                           } }>\n                                    { activeRecent === index && <img className={ styles.choose_icon } src={ choosedImg } alt=\"\"/> }\n                                    <div className={ activeRecent === index ? styles.active_text :  styles.item_text }>{ item.text }</div>\n                                </div>\n                               })\n                           }\n                            \n                       </div>\n                    </Dropdown.Item>\n                </Dropdown>\n            </div>\n        </div>\n         <div className={ styles.cinema_List_container }>\n             {\n                 !cinemaList.length ? <PageLoading/> : <List>\n                 { cinemaList.map((item:any) => {\n                     return <List.Item  key={item.name}\n                     description={\n                     <div className={ styles.cinema_message }>\n                        <div className={ styles.adress }>{item.address}</div>\n                        <div>距离未知</div>\n                     </div>\n                    }>\n                     <>\n                     <div className={ styles.cinema_name_info_line }>\n                        <div className={ styles.name }>{ item.name }</div>\n                        <div className={ styles.price }><span>¥ </span>{ item.lowPrice/100 }<span>起</span></div>\n                      </div>\n                     </>\n                     </List.Item>\n                 }) }\n                 </List>\n             }\n         </div>\n        \n        </>\n    )\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"leftPart\":\"Cinema_leftPart__7ZG6W\",\"topFilterPart\":\"Cinema_topFilterPart__LECDT\",\"filterItem\":\"Cinema_filterItem__WMGJG\",\"cityPart\":\"Cinema_cityPart__VlvaG\",\"partItem\":\"Cinema_partItem__3NP2k\",\"activeCityPart\":\"Cinema_activeCityPart__CfdJN\",\"line_container\":\"Cinema_line_container__Ptcfu\",\"line_item\":\"Cinema_line_item__4onMM\",\"choose_icon\":\"Cinema_choose_icon__09E-1\",\"item_text\":\"Cinema_item_text__s8WFc\",\"active_text\":\"Cinema_active_text__o5AMJ\",\"cinema_List_container\":\"Cinema_cinema_List_container__-Nmve\",\"cinema_message\":\"Cinema_cinema_message__pOqiO\",\"adress\":\"Cinema_adress__XRcm0\",\"cinema_name_info_line\":\"Cinema_cinema_name_info_line__8nkeV\",\"name\":\"Cinema_name__QQkLm\",\"price\":\"Cinema_price__RtMZg\"};"],"names":["PageLoading","className","styles","color","style","props","React","Object","assign","width","height","viewBox","xmlns","xmlnsXlink","verticalAlign","filter","Boolean","join","id","stroke","strokeWidth","fill","fillRule","opacity","x","y","d","Cinema","navigate","useNavigate","cityId","useAppSelector","state","SELECT_CITY_KEY","cityName","useState","activePart","setActivePart","activeType","setActiveType","activeRecent","setActiveRecent","cinemaList","setCinemaList","cityPartList","tickedType","text","recentPlace","dropDownPartRef","useRef","rightPart","SearchOutline","fontSize","onClick","leftPart","marginLeft","loadCinemaList","axios","url","headers","res","data","cinemas","useEffect","left","right","back","ref","title","arrow","map","item","index","current","close","src","choosedImg","alt","length","description","address","name","lowPrice"],"sourceRoot":""}