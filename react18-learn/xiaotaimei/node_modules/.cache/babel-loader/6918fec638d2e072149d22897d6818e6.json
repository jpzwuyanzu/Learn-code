{"ast":null,"code":"var _jsxFileName = \"/Users/xinyonghu/Desktop/personalCode/react18-learn/xiaotaimei/src/router/index.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useRoutes } from 'react-router-dom';\nimport Redirect from '../components/Redirect';\nimport Loading from '../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MRouter = () => {\n  _s();\n  const element = useRoutes([{\n    path: '/films',\n    element: LazyLoad('films/Film'),\n    children: [{\n      path: '',\n      element: /*#__PURE__*/_jsxDEV(Redirect, {\n        to: '/films/NowPlaying'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 28\n      }, this)\n    }, {\n      path: 'NowPlaying',\n      element: LazyLoad('films/NowPlaying')\n    }, {\n      path: 'comingSoon',\n      element: LazyLoad('films/ComingSoon')\n    }]\n  }, {\n    path: '/film/detail/:filmId',\n    element: LazyLoad('films/Detail')\n  }, {\n    path: '/cinema',\n    element: LazyLoad('cinemas/Cinema')\n  }, {\n    path: '/cinema/search',\n    element: LazyLoad('cinemas/Search')\n  }, {\n    path: '/city',\n    element: LazyLoad('cinemas/City')\n  }, {\n    path: '/cinema/detail/:filmId',\n    element: LazyLoad('cinemas/Detail')\n  }, {\n    path: '/news/mz-act',\n    element: LazyLoad('news/News')\n  }, {\n    path: '/center',\n    element: /*#__PURE__*/_jsxDEV(AuthComponent, {\n      children: LazyLoad('center/Center')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 22\n    }, this)\n  }, {\n    path: '/login',\n    element: LazyLoad('login/Login')\n  }, {\n    path: '/',\n    element: /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/films\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 22\n    }, this)\n  }, {\n    path: '*',\n    element: LazyLoad('NotFound')\n  }]);\n  return element;\n};\n\n//路由鉴权，判断是否登录\n_s(MRouter, \"etFarxWlkZhRrhKgVVEzJqrjurQ=\", false, function () {\n  return [useRoutes];\n});\n_c = MRouter;\nconst AuthComponent = _ref => {\n  let {\n    children\n  } = _ref;\n  const isLogin = localStorage.getItem('token');\n  return isLogin ? children : /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 33\n  }, this);\n};\n\n// 路由懒加载\n_c2 = AuthComponent;\nconst LazyLoad = path => {\n  const Comp = /*#__PURE__*/React.lazy(() => import(`../views/${path}`));\n  return /*#__PURE__*/_jsxDEV(React.Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 36\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Comp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n};\n_c3 = LazyLoad;\nexport default MRouter;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MRouter\");\n$RefreshReg$(_c2, \"AuthComponent\");\n$RefreshReg$(_c3, \"LazyLoad\");","map":{"version":3,"names":["React","useRoutes","Redirect","Loading","MRouter","element","path","LazyLoad","children","AuthComponent","isLogin","localStorage","getItem","Comp","lazy"],"sources":["/Users/xinyonghu/Desktop/personalCode/react18-learn/xiaotaimei/src/router/index.tsx"],"sourcesContent":["import React from 'react'\nimport { useRoutes } from 'react-router-dom'\nimport Redirect from '../components/Redirect';\nimport Loading from '../components/Loading';\n\nconst MRouter = () => {\n    const element = useRoutes([\n        {\n          path: '/films',\n          element: LazyLoad('films/Film'),\n          children: [\n              {\n                  path: '',\n                  element: <Redirect to={'/films/NowPlaying'} />\n              },\n              {\n                  path: 'NowPlaying',\n                  element: LazyLoad('films/NowPlaying')\n              },\n              {\n                  path: 'comingSoon',\n                  element: LazyLoad('films/ComingSoon')\n              }\n          ]  \n        },\n        {\n            path: '/film/detail/:filmId',\n            element: LazyLoad('films/Detail')\n        },\n        {\n            path: '/cinema',\n            element: LazyLoad('cinemas/Cinema')\n        },\n        {\n            path: '/cinema/search',\n            element: LazyLoad('cinemas/Search')\n        },\n        {\n            path: '/city',\n            element: LazyLoad('cinemas/City')\n        },\n        {\n            path: '/cinema/detail/:filmId',\n            element: LazyLoad('cinemas/Detail')\n        },\n        {\n            path: '/news/mz-act',\n            element: LazyLoad('news/News')\n        },\n        {\n            path: '/center',\n            element: <AuthComponent>{ LazyLoad('center/Center') }</AuthComponent>\n        },\n        {\n            path: '/login',\n            element: LazyLoad('login/Login')\n        },\n        {\n            path: '/',\n            element: <Redirect to=\"/films\" />\n        },\n        {\n            path: '*',\n            element: LazyLoad('NotFound')\n        }\n\n    ])\n    return element\n}\n\n//路由鉴权，判断是否登录\nconst AuthComponent = ({ children }: any) => {\n    const isLogin = localStorage.getItem('token');\n    return isLogin ? children : <Redirect to=\"/login\"/>\n}\n\n// 路由懒加载\nconst LazyLoad = (path: string) => {\n    const Comp = React.lazy(() => import(`../views/${path}`))\n    return (\n        <React.Suspense fallback={ <Loading/> }>\n            <Comp/>\n        </React.Suspense>\n    )\n}\n\nexport default MRouter"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,OAAOC,OAAO,MAAM,uBAAuB;AAAC;AAE5C,MAAMC,OAAO,GAAG,MAAM;EAAA;EAClB,MAAMC,OAAO,GAAGJ,SAAS,CAAC,CACtB;IACEK,IAAI,EAAE,QAAQ;IACdD,OAAO,EAAEE,QAAQ,CAAC,YAAY,CAAC;IAC/BC,QAAQ,EAAE,CACN;MACIF,IAAI,EAAE,EAAE;MACRD,OAAO,eAAE,QAAC,QAAQ;QAAC,EAAE,EAAE;MAAoB;QAAA;QAAA;QAAA;MAAA;IAC/C,CAAC,EACD;MACIC,IAAI,EAAE,YAAY;MAClBD,OAAO,EAAEE,QAAQ,CAAC,kBAAkB;IACxC,CAAC,EACD;MACID,IAAI,EAAE,YAAY;MAClBD,OAAO,EAAEE,QAAQ,CAAC,kBAAkB;IACxC,CAAC;EAEP,CAAC,EACD;IACID,IAAI,EAAE,sBAAsB;IAC5BD,OAAO,EAAEE,QAAQ,CAAC,cAAc;EACpC,CAAC,EACD;IACID,IAAI,EAAE,SAAS;IACfD,OAAO,EAAEE,QAAQ,CAAC,gBAAgB;EACtC,CAAC,EACD;IACID,IAAI,EAAE,gBAAgB;IACtBD,OAAO,EAAEE,QAAQ,CAAC,gBAAgB;EACtC,CAAC,EACD;IACID,IAAI,EAAE,OAAO;IACbD,OAAO,EAAEE,QAAQ,CAAC,cAAc;EACpC,CAAC,EACD;IACID,IAAI,EAAE,wBAAwB;IAC9BD,OAAO,EAAEE,QAAQ,CAAC,gBAAgB;EACtC,CAAC,EACD;IACID,IAAI,EAAE,cAAc;IACpBD,OAAO,EAAEE,QAAQ,CAAC,WAAW;EACjC,CAAC,EACD;IACID,IAAI,EAAE,SAAS;IACfD,OAAO,eAAE,QAAC,aAAa;MAAA,UAAGE,QAAQ,CAAC,eAAe;IAAC;MAAA;MAAA;MAAA;IAAA;EACvD,CAAC,EACD;IACID,IAAI,EAAE,QAAQ;IACdD,OAAO,EAAEE,QAAQ,CAAC,aAAa;EACnC,CAAC,EACD;IACID,IAAI,EAAE,GAAG;IACTD,OAAO,eAAE,QAAC,QAAQ;MAAC,EAAE,EAAC;IAAQ;MAAA;MAAA;MAAA;IAAA;EAClC,CAAC,EACD;IACIC,IAAI,EAAE,GAAG;IACTD,OAAO,EAAEE,QAAQ,CAAC,UAAU;EAChC,CAAC,CAEJ,CAAC;EACF,OAAOF,OAAO;AAClB,CAAC;;AAED;AAAA,GAjEMD,OAAO;EAAA,QACOH,SAAS;AAAA;AAAA,KADvBG,OAAO;AAkEb,MAAMK,aAAa,GAAG,QAAuB;EAAA,IAAtB;IAAED;EAAc,CAAC;EACpC,MAAME,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC7C,OAAOF,OAAO,GAAGF,QAAQ,gBAAG,QAAC,QAAQ;IAAC,EAAE,EAAC;EAAQ;IAAA;IAAA;IAAA;EAAA,QAAE;AACvD,CAAC;;AAED;AAAA,MALMC,aAAa;AAMnB,MAAMF,QAAQ,GAAID,IAAY,IAAK;EAC/B,MAAMO,IAAI,gBAAGb,KAAK,CAACc,IAAI,CAAC,MAAM,MAAM,CAAE,YAAWR,IAAK,EAAC,CAAC,CAAC;EACzD,oBACI,QAAC,KAAK,CAAC,QAAQ;IAAC,QAAQ,eAAG,QAAC,OAAO;MAAA;MAAA;MAAA;IAAA,QAAI;IAAA,uBACnC,QAAC,IAAI;MAAA;MAAA;MAAA;IAAA;EAAE;IAAA;IAAA;IAAA;EAAA,QACM;AAEzB,CAAC;AAAA,MAPKC,QAAQ;AASd,eAAeH,OAAO;AAAA;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module"}