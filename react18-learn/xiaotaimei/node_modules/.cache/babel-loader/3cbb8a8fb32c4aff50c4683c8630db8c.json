{"ast":null,"code":"var _jsxFileName = \"/Users/xinyonghu/Desktop/personalCode/react18-learn/xiaotaimei/src/views/films/Detail.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useAppDispatch } from '../../hooks/redux-hook';\nimport { switchTabBar } from '../../store/tabbar.slice';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { NavBar, Button, Image } from 'antd-mobile';\nimport styles from './Detail.module.scss';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Detail() {\n  _s();\n  var _filmDetail$item, _filmDetail$actors;\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const [filmDetail, setFilmDetail] = useState({});\n  const params = useParams();\n  const colors = ['#ace0ff', '#bcffbd', '#e4fabd', '#ffcfac'];\n  const loadFilmDetailInfo = async () => {\n    const res = await axios({\n      url: `https://m.maizuo.com/gateway?filmId=${params.filmId}&k=5275804`,\n      headers: {\n        \"X-Client-Info\": '{\"a\":\"3000\",\"ch\":\"1002\",\"v\":\"5.2.1\",\"e\":\"16674635654662427517976577\"}',\n        \"X-Host\": \"mall.film-ticket.film.info\"\n      }\n    });\n    console.log(res.data.data.film);\n    setFilmDetail({\n      ...res.data.data.film\n    });\n  };\n  useEffect(() => {\n    loadFilmDetailInfo();\n    dispatch(switchTabBar({\n      status: false\n    }));\n    return () => {\n      dispatch(switchTabBar({\n        status: true\n      }));\n    };\n    // eslint-disable-next-line\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.film_detail_container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.top_navBar,\n      children: /*#__PURE__*/_jsxDEV(NavBar, {\n        onBack: () => navigate('/')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.center_content,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.top_poster_cntainer,\n        children: /*#__PURE__*/_jsxDEV(Image, {\n          lazy: true,\n          width: \"100%\",\n          height: \"100%\",\n          fit: \"fill\",\n          src: filmDetail.poster\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.film_desc_detail,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.title_line,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.title_label,\n            children: [filmDetail.name, /*#__PURE__*/_jsxDEV(\"span\", {\n              children: (_filmDetail$item = filmDetail.item) === null || _filmDetail$item === void 0 ? void 0 : _filmDetail$item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 83\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.film_score,\n            children: [filmDetail.grade, \"\\u5206\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.detail_item,\n          children: filmDetail.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.detail_item,\n          children: [filmDetail.premiereAt, \"\\u4E0A\\u6620\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.detail_item,\n          children: [filmDetail.nation, \"\\uFF5C\", filmDetail.runtime, \"\\u5206\\u949F\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.detail_item,\n          children: filmDetail.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.detail_item,\n          children: filmDetail.synopsis\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.actor_list,\n        children: /*#__PURE__*/_jsxDEV(Swiper, {\n          spaceBetween: 10,\n          slidesPerView: 3.4,\n          onSlideChange: () => console.log('slide change'),\n          onSwiper: swiper => console.log(swiper),\n          children: (_filmDetail$actors = filmDetail.actors) === null || _filmDetail$actors === void 0 ? void 0 : _filmDetail$actors.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(SwiperSlide, {\n              children: [/*#__PURE__*/_jsxDEV(Image, {\n                lazy: true,\n                width: \"100%\",\n                height: \"135px\",\n                fit: \"fill\",\n                src: item.avatarAddress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: item.role\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 33\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 41\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.bottom_buy_btn,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        block: true,\n        color: \"primary\",\n        size: \"middle\",\n        style: {\n          '--border-radius': 'none',\n          fontSize: '14px'\n        },\n        children: \"\\u9009\\u5EA7\\u8D2D\\u7968\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(Detail, \"8ej05sFzsyq7U6AI3K+dggI/JlY=\", false, function () {\n  return [useAppDispatch, useNavigate, useParams];\n});\n_c = Detail;\nvar _c;\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"names":["React","useEffect","useState","useAppDispatch","switchTabBar","useParams","useNavigate","NavBar","Button","Image","styles","Swiper","SwiperSlide","axios","Detail","dispatch","navigate","filmDetail","setFilmDetail","params","colors","loadFilmDetailInfo","res","url","filmId","headers","console","log","data","film","status","film_detail_container","top_navBar","center_content","top_poster_cntainer","poster","film_desc_detail","title_line","title_label","name","item","film_score","grade","detail_item","category","premiereAt","nation","runtime","synopsis","actor_list","swiper","actors","map","index","avatarAddress","role","bottom_buy_btn","fontSize"],"sources":["/Users/xinyonghu/Desktop/personalCode/react18-learn/xiaotaimei/src/views/films/Detail.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useAppDispatch } from '../../hooks/redux-hook'\nimport { switchTabBar } from '../../store/tabbar.slice'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { NavBar,Button, Image  } from 'antd-mobile'\nimport styles from './Detail.module.scss'\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport 'swiper/css'\nimport axios from 'axios'\n\ninterface IFilmDetail {\n    [propName: string]: any\n}\n\nexport default function Detail() {\n    const dispatch = useAppDispatch();\n    const navigate = useNavigate();\n    const [filmDetail, setFilmDetail] = useState({} as IFilmDetail)\n    const params = useParams();\n    const colors = ['#ace0ff', '#bcffbd', '#e4fabd', '#ffcfac']\n\n    const loadFilmDetailInfo = async () => {\n        const res = await axios({\n            url: `https://m.maizuo.com/gateway?filmId=${params.filmId}&k=5275804`,\n            headers: {\n              \"X-Client-Info\":\n                '{\"a\":\"3000\",\"ch\":\"1002\",\"v\":\"5.2.1\",\"e\":\"16674635654662427517976577\"}',\n              \"X-Host\": \"mall.film-ticket.film.info\",\n            },\n          });\n          console.log(res.data.data.film)\n          setFilmDetail({ ...res.data.data.film })\n    }\n\n    useEffect(() => {\n        loadFilmDetailInfo()\n        dispatch(switchTabBar({ status: false }))\n        return () => {\n          dispatch(switchTabBar({ status: true }))\n        }\n        // eslint-disable-next-line\n    }, [])\n\n    return (\n        <div className={ styles.film_detail_container }>\n             <div className={ styles.top_navBar }>\n                <NavBar onBack={() => navigate('/')}></NavBar>\n             </div>\n             <div className={ styles.center_content }>\n                 <div className={ styles.top_poster_cntainer }>\n                    <Image lazy width=\"100%\" height=\"100%\" fit='fill' src={ filmDetail.poster } />\n                 </div>\n                 <div className={ styles.film_desc_detail }>\n                     <div className={ styles.title_line }>\n                         <div className={ styles.title_label }>{ filmDetail.name }<span>{ filmDetail.item?.name }</span></div>\n                         <div className={ styles.film_score }>{ filmDetail.grade }分</div>\n                     </div>\n                     <div className={ styles.detail_item }>{ filmDetail.category }</div>\n                     <div className={ styles.detail_item }>{ filmDetail.premiereAt }上映</div>\n                     <div className={ styles.detail_item }>{ filmDetail.nation }｜{ filmDetail.runtime }分钟</div>\n                     <div className={ styles.detail_item }>{ filmDetail.category }</div>\n                     <div className={ styles.detail_item }>{ filmDetail.synopsis }</div>\n                 </div>\n                 <div className={ styles.actor_list }>\n                 <Swiper\n                    spaceBetween={10} slidesPerView={3.4} onSlideChange={() => console.log('slide change')}\n                    onSwiper={(swiper) => console.log(swiper)}\n                    >\n                        {\n                            filmDetail.actors?.map((item: any, index: any) => {\n                                return  <SwiperSlide key={ index }>\n                                <Image lazy width=\"100%\" height=\"135px\" fit='fill' src={ item.avatarAddress  } />\n                                <p>{ item.name }</p>\n                                <p>{ item.role }</p>\n                                </SwiperSlide>\n                            })\n                            \n                        }\n                    </Swiper>\n                 </div>\n             </div>\n             <div className={ styles.bottom_buy_btn }>\n                <Button block color='primary' size='middle' style={{ '--border-radius': 'none', fontSize: '14px' }}>\n                 选座购票\n                </Button>\n             </div>\n        </div>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}