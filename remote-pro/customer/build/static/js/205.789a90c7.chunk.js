"use strict";(self.webpackChunkproxy=self.webpackChunkproxy||[]).push([[205,333,433,422],{9715:function(e,t,r){r.r(t);var a=r(4165),n=r(5861),s=r(885),o=r(2791),i=r(7689),d=r(712),c=r(3478),l=r(8029),u=r.n(l),_=r(7892),f=r.n(_),m=r(6273),h=r(2434),p=r(2433),x=r(8901),N=r(184),j=(0,o.memo)((function(e){var t=e.orderStatusP,r=e.orderInfoP,l=((0,m.C)((function(e){return e.updateState.status})),(0,i.TH)()),_=(l.pathname,l.search),j=new URLSearchParams(_),y=(0,o.useState)(Number(t)),w=(0,s.Z)(y,2),b=(w[0],w[1],(0,o.useState)(j.get("orderNumber"))),v=(0,s.Z)(b,2),g=v[0],C=(v[1],(0,o.useState)(Number(j.get("orderAmount")))),P=(0,s.Z)(C,2),O=P[0],k=P[1],S=(0,o.useState)(r),Z=(0,s.Z)(S,2),T=(Z[0],Z[1],(0,m.T)()),D=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2!==t){e.next=11;break}return e.next=3,d.Vq.confirm({content:"\u786e\u5b9a\u3010\u53d6\u6d88\u8ba2\u5355\u3011\u5417?"});case 3:if(!e.sent){e.next=11;break}return e.next=7,(0,c.yp)({merchantOrderId:j.get("orderNumber"),payStatus:4});case 7:(r=e.sent)&&200===r.code&&T((0,h.ki)({status:!1})),k(""),d.FN.show({content:"\u8ba2\u5355\u5df2\u53d6\u6d88",position:"bottom"});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){}),[]),(0,N.jsxs)("div",{className:p.default.proxy_order_container,children:[(0,N.jsx)("div",{className:p.default.card_container,children:(0,N.jsx)(d.Zb,{title:"\u8ba2\u5355\u8be6\u60c5",onClick:function(){},children:(0,N.jsxs)("div",{className:p.default.detail_container,children:[(0,N.jsxs)("div",{className:p.default.detail_item,children:[(0,N.jsx)("span",{className:p.default.label,children:"\u8ba2\u5355\u7f16\u53f7:"}),(0,N.jsx)("span",{className:p.default.info,children:g}),(0,N.jsx)(u(),{text:g,onCopy:function(){d.FN.show({content:"\u590d\u5236\u6210\u529f",position:"top"})},children:(0,N.jsx)("div",{className:p.default.copyOrderNow,children:(0,N.jsx)("img",{className:p.default.copyNowImg,src:x,alt:""})})})]}),(0,N.jsxs)("div",{className:p.default.detail_item,children:[(0,N.jsx)("span",{className:p.default.label,children:"\u521b\u5efa\u65f6\u95f4:"}),(0,N.jsx)("span",{className:p.default.info,children:f()(r.ms).format("YYYY-MM-DD HH:mm:ss")})]}),r.finishTime?(0,N.jsxs)("div",{className:p.default.detail_item,children:[(0,N.jsx)("span",{className:p.default.label,children:"\u7ed3\u675f\u65f6\u95f4:"}),(0,N.jsx)("span",{className:p.default.info,children:r.finishTime})]}):null,(0,N.jsxs)("div",{className:p.default.detail_item,children:[(0,N.jsx)("span",{className:p.default.label,children:"\u5546\u54c1\u7c7b\u578b:"}),(0,N.jsx)("span",{className:p.default.info,children:1===r.orderType?"\u6e38\u620f\u5145\u503c":2===r.orderType?"\u4f1a\u5458\u5145\u503c":"\u91d1\u5e01\u5145\u503c"})]}),(0,N.jsxs)("div",{className:p.default.detail_item,children:[(0,N.jsx)("span",{className:p.default.label,children:"\u652f\u4ed8\u65b9\u5f0f:"}),(0,N.jsx)("span",{className:p.default.info,children:"WX_PAY"===r.payCode?"\u5fae\u4fe1\u652f\u4ed8":"ALI_PAY"===r.payCode?"\u652f\u4ed8\u5b9d":"\u94f6\u8054\u652f\u4ed8"})]}),(0,N.jsxs)("div",{className:p.default.detail_item,children:[(0,N.jsx)("span",{className:p.default.label,children:"\u8ba2\u5355\u91d1\u989d:"}),(0,N.jsxs)("span",{className:p.default.info,children:["\xa5",(Number(j.get("orderAmount"))/100).toFixed(2)]})]})]})})}),(0,N.jsx)("div",{className:p.default.order_btns,children:(0,N.jsxs)("div",{className:p.default.btns_group,children:[(0,N.jsxs)("div",{className:p.default.left_part,children:["\u5b9e\u4ed8\u91d1\u989d:\xa0",(0,N.jsx)("span",{children:1===t||2===t?"\xa5"+(Number(O)/100).toFixed(2):"/"})]}),(0,N.jsx)("div",{className:2===t?p.default.right_part:p.default.disBtn,onClick:D,children:2===t?"\u53d6\u6d88\u8ba2\u5355":1===t?"\u5145\u503c\u6210\u529f":"\u5df2\u5173\u95ed"})]})})]})}));t.default=j},594:function(e,t,r){r.r(t);var a=r(4165),n=r(5861),s=r(885),o=r(2791),i=r(7689),d=r(712),c=r(2251),l=r(9422),u=r(3478),_=r(6273),f=r(2434),m=r(1855),h=r(9715),p=r(184);t.default=function(){var e=(0,i.s0)(),t=(0,i.TH)(),r=t.pathname,x=t.search,N=new URLSearchParams(x),j=(0,o.useState)(),y=(0,s.Z)(j,2),w=y[0],b=y[1],v=(0,o.useState)(18e5),g=(0,s.Z)(v,2),C=(g[0],g[1],(0,o.useState)(decodeURIComponent(x.split("?")[1].split("&")[1].split("=")[1]))),P=(0,s.Z)(C,2),O=P[0],k=(P[1],(0,o.useState)(2)),S=(0,s.Z)(k,2),Z=S[0],T=S[1],D=(0,o.useState)(""),I=(0,s.Z)(D,2),H=(I[0],I[1]),L=(0,o.useState)({}),B=(0,s.Z)(L,2),R=B[0],U=B[1],A=(0,_.C)((function(e){return e.updateState.status})),E=(0,_.T)(),F="",W=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=5;break}return e.next=3,(0,u.cq)({playerId:N.get("fromUserId"),playerName:N.get("fromUserName"),agentId:null===(t=N.get("toUserId"))||void 0===t?void 0:t.split("_")[1],agentName:N.get("toUserName"),content:F});case 3:(r=e.sent)&&200===r.code&&(d.FN.show({icon:"success",content:"\u4e3e\u62a5\u6210\u529f"}),H(""),F="");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.HC)({fromUserId:N.get("fromUserId"),orderNumber:N.get("orderNumber")});case 2:200===(t=e.sent).code&&t.data&&t.data.order?(U(t.data.order),T(t.data.order.payStatus),E((0,f.ki)({status:3!==t.data.order.payStatus&&4!==t.data.order.payStatus}))):U({});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){b("/"===r.slice(-1)?r:r+"/")}),[r]),(0,o.useEffect)((function(){Y()}),[A]),(0,o.useEffect)((function(){Y()}),[w]),(0,o.useEffect)((function(){Y()}),[]),(0,p.jsxs)("div",{className:l.default.proxy_container,children:[(0,p.jsx)("div",{className:l.default.navbar_container,children:(0,p.jsx)(d.l2,{onBack:function(){return function(){var e;window.WebLocalBridge?window.WebLocalBridge.rechargeBack():null!==(e=window.webkit)&&void 0!==e&&e.messageHandlers&&window.webkit.messageHandlers.JsToOc.postMessage("rechargeBack")}()},right:(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:l.default.reportNow,onClick:function(){c.Vq.alert({title:(0,p.jsx)("span",{style:{color:"#ff6084"},children:"\u8bf7\u8f93\u5165\u4e3e\u62a5\u5185\u5bb9"}),showCancelButton:!0,theme:"round-button",message:(0,p.jsxs)("div",{className:l.default.report_container,children:[(0,p.jsx)("div",{className:l.default.report_input,children:(0,p.jsx)(c.II.TextArea,{autoSize:{minHeight:120},placeholder:"  \u8bf7\u8f93\u5165...",onChange:function(e){return function(e){H(e),F=e}(e)},maxLength:100,showWordLimit:!0})}),(0,p.jsx)("div",{className:l.default.report_tips,children:"\u5b98\u65b9\u5c06\u6838\u5b9e\u4e3e\u62a5\u5185\u5bb9\uff0c\u80e1\u4e71\u4e3e\u62a5\u5c06\u627f\u62c5\u540e\u679c!"})]}),onCancel:function(){return H(""),void(F="")},onConfirm:function(){return W()}})},children:"\u4e3e\u62a5"})}),children:O})}),(0,p.jsx)("div",{className:l.default.tabs_container,children:(0,p.jsxs)(d.mQ,{activeKey:w,onChange:function(t){return function(t){e("".concat(t).concat(x))}(t)},children:[(0,p.jsx)(d.mQ.Tab,{title:"\u4ee3\u7406\u5ba2\u670d"},"/chat/chatroom/"),(0,p.jsx)(d.mQ.Tab,{title:"\u4ee3\u7406\u8ba2\u5355"},"/chat/order/")]})}),Z?(0,p.jsx)("div",{className:3===Z||4===Z?l.default.order_status_disline:l.default.order_status_line,children:2===Z?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{className:l.default.countDownNowLabel,children:"\u8ba2\u5355\u8fdb\u884c\u4e2d\uff0c\u5269\u4f59\u65f6\u95f4:"}),"\xa0",(0,p.jsx)(c.Wo,{time:R&&R.ms?18e5-(Number((new Date).getTime())-Number(new Date(R.ms).getTime())):18e5,millisecond:!0,format:"mm:ss",className:l.default.countDownNow,onFinish:function(){return T(4)}})]}):1===Z?"\u5145\u503c\u6210\u529f":"\u8ba2\u5355\u5173\u95ed"}):null,(0,p.jsxs)("div",{className:l.default.proxy_content,children:[(0,p.jsx)("div",{className:"/chat/chatroom/"===w?l.default.showChatRoom:l.default.hideChatRoom,children:(0,p.jsx)(m.default,{})}),(0,p.jsx)("div",{className:"/chat/order/"===w?l.default.showOrderDetail:l.default.hideOrderDetail,children:(0,p.jsx)(h.default,{orderStatusP:Z,orderInfoP:R})})]})]})}},2433:function(e,t,r){r.r(t),t.default={proxy_order_container:"Order_proxy_order_container__H+IbV",card_container:"Order_card_container__Npcol",detail_container:"Order_detail_container__V3B27",detail_item:"Order_detail_item__VzpKr",label:"Order_label__0GC4T",info:"Order_info__EWhGQ",copyOrderNow:"Order_copyOrderNow__A94Dk",copyNowImg:"Order_copyNowImg__IkQYV",order_btns:"Order_order_btns__hYVy0",btns_group:"Order_btns_group__gCjEa",left_part:"Order_left_part__H+aCb",right_part:"Order_right_part__jJdTK",disBtn:"Order_disBtn__pD4PR"}},9422:function(e,t,r){r.r(t),t.default={proxy_container:"Proxy_proxy_container__3bl5T",navbar_container:"Proxy_navbar_container__8dqNZ",reportNow:"Proxy_reportNow__iUyAk",navbar_container_android:"Proxy_navbar_container_android__Ino57",tabs_container:"Proxy_tabs_container__0i07e",order_status_line:"Proxy_order_status_line__w4JKT",countDownNowLabel:"Proxy_countDownNowLabel__PpgES",countDownNow:"Proxy_countDownNow__6Zj-4",order_status_disline:"Proxy_order_status_disline__CdWQS",proxy_content:"Proxy_proxy_content__9jCqJ",showChatRoom:"Proxy_showChatRoom__2rrcT",hideChatRoom:"Proxy_hideChatRoom__8MhH2",showOrderDetail:"Proxy_showOrderDetail__2+Xjn",hideOrderDetail:"Proxy_hideOrderDetail__uoxfq",proxy_content_android:"Proxy_proxy_content_android__hpcyh",report_container:"Proxy_report_container__le88K",report_input:"Proxy_report_input__iiTND",report_tips:"Proxy_report_tips__WLffd"}}}]);
//# sourceMappingURL=205.789a90c7.chunk.js.map