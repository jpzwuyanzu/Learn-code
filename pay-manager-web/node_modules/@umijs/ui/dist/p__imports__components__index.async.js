"use strict";(self.webpackChunk_umijs_ui=self.webpackChunk_umijs_ui||[]).push([[765,829],{45237:function(R,o,e){e.r(o),e.d(o,{ViewButton:function(){return U}});var P=e(28056),d=e.n(P),p=e(26568),c=e(29088),B,m=p.styled.div(B||(B=d()([`
  display: inline-block;

  .view {
    display: inline-block;
    border: 1px solid var(--text-color);
    padding: 0.25rem 0.75rem;
    position: relative;
    cursor: pointer;

    &.active {
      cursor: unset;
      z-index: 10;
      color: var(--highlight-color);
      border-color: var(--highlight-color);
    }

    &:first-child {
      border-bottom-left-radius: 4px;
      border-top-left-radius: 4px;
    }

    &:last-child {
      left: -1px;
      border-bottom-right-radius: 4px;
      border-top-right-radius: 4px;
    }
  }
`]))),U=function(f){var y=f.value,v=f.options,h=v===void 0?[]:v,n=f.onChange;return(0,c.jsx)(m,{children:h.map(function(s){return(0,c.jsx)("span",{className:y===s.value?"view active":"view",onClick:function(){return n(s.value)},children:(0,c.jsx)(p.Icon,{width:"24",height:"24",icon:"ant-design:".concat(s.icon)})},s.value)})})}},56624:function(R,o,e){e.r(o),e.d(o,{ViewChart:function(){return f}});var P=e(65645),d=e.n(P),p=e(45990),c=e.n(p),B=e(91376),m=e(18855),U=e(29088),E="#117cf3",f=function(v){var h=v.metaFile,n=(0,m.useRef)(null),s=(0,m.useMemo)(function(){var O=h.inputs,x=Object.keys(O),T=x.reduce(function(t,r,i){var l=c()(t,2),a=l[0],b=l[1],L=String(i),I=r.split(".").slice(-1)[0],j,A;switch(I){case"tsx":j="circle",A="#BDD2FD";break;case"ts":j="diamond",A="#BDEFDB";break;case"js":j="diamond",A="#FF9D4D";break;default:A="#FBE5A2",j="triangle"}var W={id:L,path:r,label:r.split("/").slice(-1)[0],type:j,style:{fill:A,stroke:0},stateStyles:{selected:{fill:E,stroke:0}},labelCfg:{position:"bottom",style:{fill:"#fff",shadowColor:"blue",shadowBlur:10}}};return a.push(W),b[r]=L,[a,b]},[[],{}]),_=c()(T,2),M=_[0],D=_[1],g=x.reduce(function(t,r){var i=O[r].imports||[],l=D[r],a=i.filter(function(b){return b.original}).map(function(b){var L=b.path,I=D[L];return{source:I,target:l,stateStyles:{selected:{stroke:E,fill:E,shadowBlur:0,endArrow:{stroke:E,path:"M 0,0 L 6,3 L 6,-3 Z",fill:E}}}}});return[].concat(d()(t),d()(a))},[]);return{nodes:M,edges:g}},[h]);return(0,m.useEffect)(function(){var O=document.getElementById("container"),x=O.scrollWidth,T=window.innerHeight-100,_=new B.ZP.Graph({container:"container",width:x,height:T,fitCenter:!0,modes:{default:["zoom-canvas","drag-canvas","drag-node"]},layout:{type:"forceAtlas2",preventOverlap:!0,kr:20},defaultNode:{size:24},animate:!0,defaultEdge:{style:{endArrow:{path:"M 0,0 L 4,2 L 4,-2 Z",fill:"#e2e2e2"}}}}),M=function(t,r){var i,l=((i=t._cfg)===null||i===void 0?void 0:i.edges)||[];l.forEach(function(a){_.setItemState(a,"selected",r)}),_.setItemState(t,"selected",r)};_.on("click",function(g){var t,r,i=((t=g.item)===null||t===void 0||(r=t._cfg)===null||r===void 0?void 0:r.type)||null;i!=="node"&&n.current&&M(n.current,!1)}),_.on("node:click",function(g){var t=g.item;if(t===n.current){M(t,!1),n.current=null;return}n.current&&M(n.current,!1),M(t,!0),n.current=t}),_.data(s),_.render();var D=function(){var t=document.getElementById("container"),r=t.scrollWidth,i=window.innerHeight-100;_.changeSize(r,i)};return window.addEventListener("resize",D),function(){window.removeEventListener("resize",D),n.current=null,_.destroy()}},[s]),(0,U.jsx)("div",{children:(0,U.jsx)("div",{id:"container"})})}},11633:function(R,o,e){e.r(o),e.d(o,{ViewList:function(){return r}});var P=e(65645),d=e.n(P),p=e(45990),c=e.n(p),B=e(28056),m=e.n(B),U=e(30622),E=e(65948),f=e(42890),y=e(25239),v=e(18855),h=e(26568),n=e(29088),s,O,x,T=h.styled.div(s||(s=m()([`
  .switch-container {
    margin-bottom: 1rem;
    display: flex;
    align-items: center;

    .ant-switch {
      margin-right: 0.5rem;
      background: var(--text-color);

      &-checked {
        background: var(--highlight-color);
      }
    }
  }
`]))),_=h.styled.div(O||(O=m()([`
  background: var(--bg-color);

  .ant-input-affix-wrapper {
    background: var(--bg-color);
    border-color: var(--text-color);
  }

  .ant-input {
    background: var(--bg-color);
    color: var(--text-color);
  }

  .search-icon {
    margin-right: 0.5rem;
    color: var(--text-color);
  }
`]))),M=h.styled.div(x||(x=m()([`
  margin-top: 2rem;

  .ant-list-item {
    color: var(--text-color);
    border-color: var(--text-color);
    padding-left: 1rem;
  }
`]))),D=47,g=[/node_modules/],t=function(l){return g.some(function(a){return a.test(l)})},r=function(l){var a=l.metaFile,b=(0,v.useState)(!1),L=c()(b,2),I=L[0],j=L[1],A=(0,v.useState)(""),W=c()(A,2),w=W[0],z=W[1],V=(0,v.useMemo)(function(){var C=a.inputs,u=Object.keys(C).reduce(function(S,N){var H=C[N].imports||[],Z=H.map(function(K){return K.path}).filter(function(K){var $=K.indexOf(w)!==-1;return $&&(I||!t(K))});return[].concat(d()(S),d()(Z))},[]);return Array.from(new Set(u)).sort()},[a,I,w]),F=(0,v.useMemo)(function(){var C=window.innerHeight-216,u=D*V.length;return u>C?C:u},[V]);return(0,n.jsxs)("div",{children:[(0,n.jsx)(T,{children:(0,n.jsxs)("div",{className:"switch-container",children:[(0,n.jsx)(U.Z,{onChange:j}),"show node_modules paths"]})}),(0,n.jsx)(_,{children:(0,n.jsx)(E.Z,{size:"large",value:w,onChange:function(u){return z(u.target.value)},prefix:(0,n.jsx)(h.Icon,{width:"24",height:"24",icon:"ant-design:search-outlined",className:"search-icon"})})}),(0,n.jsx)(M,{children:(0,n.jsx)(f.ZP,{bordered:!0,children:(0,n.jsx)(y.Z,{data:V,height:F,itemHeight:D,itemKey:function(u){return u},children:function(u,S){return(0,n.jsx)(f.ZP.Item,{children:(0,n.jsx)("div",{children:u})})}})})})]})}},62713:function(R,o,e){e.r(o),e.d(o,{ViewButton:function(){return P.ViewButton},ViewChart:function(){return d.ViewChart},ViewList:function(){return p.ViewList}});var P=e(45237),d=e(56624),p=e(11633)}}]);
