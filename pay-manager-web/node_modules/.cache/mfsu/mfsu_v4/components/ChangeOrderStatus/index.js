import {
  ModalForm,
  ProFormItem,
  ProFormSelect
} from "@ant-design/pro-components";
import { message } from "antd";
import { PayStatusOptions } from "@/constants";
export default (props) => {
  const { record, request } = props;
  const payStatusMap = {};
  PayStatusOptions.forEach((item) => {
    payStatusMap[item.value] = item.label;
  });
  return /* @__PURE__ */ React.createElement(
    ModalForm,
    {
      title: "\u4FEE\u6539\u652F\u4ED8\u72B6\u6001",
      trigger: /* @__PURE__ */ React.createElement("a", null, "\u4FEE\u6539\u652F\u4ED8\u72B6\u6001"),
      layout: "horizontal",
      labelCol: { span: 4 },
      onFinish: async (formData) => {
        formData.platformOrderId = record.platformOrderId;
        formData.merchantId = record.merchantId;
        await request(formData);
        message.success("\u4FEE\u6539\u6210\u529F");
        props?.reload();
        return true;
      }
    },
    /* @__PURE__ */ React.createElement(ProFormItem, { label: "\u5F53\u524D\u72B6\u6001" }, payStatusMap[record?.payStatus] || record?.payStatus),
    /* @__PURE__ */ React.createElement(
      ProFormSelect,
      {
        name: "payStatus",
        label: "\u4FEE\u6539\u652F\u4ED8\u72B6\u6001",
        initialValue: 1,
        options: PayStatusOptions.filter(
          (item) => item.value !== record?.payStatus
        )
      }
    )
  );
};
