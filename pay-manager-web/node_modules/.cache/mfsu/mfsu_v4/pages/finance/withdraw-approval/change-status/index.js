import services from "@/services";
import { Modal, message } from "antd";
import { useState } from "react";
import {
  ProForm,
  ProFormRadio
} from "@ant-design/pro-components";
import Status from "@/components/Status";
export default (props) => {
  const [isModalOpen, setIsModalOpen] = useState(false);
  const { record } = props;
  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("a", { className: "text-red", onClick: () => setIsModalOpen(true) }, "\u66F4\u6539\u72B6\u6001"), /* @__PURE__ */ React.createElement(
    Modal,
    {
      className: "balance-modal",
      title: "\u66F4\u6539\u72B6\u6001",
      open: isModalOpen,
      footer: null,
      width: 600,
      onCancel: () => {
        setIsModalOpen(false);
      }
    },
    /* @__PURE__ */ React.createElement(
      ProForm,
      {
        layout: "horizontal",
        initialValues: {
          auditStatus: 2
        },
        onFinish: async (values) => {
          await services.finance.withdrawApproval.updateStatus({
            id: +record.id,
            auditStatus: values.auditStatus
          });
          message.success("\u66F4\u6539\u72B6\u6001\u6210\u529F");
          setIsModalOpen(false);
          props?.reload();
        }
      },
      /* @__PURE__ */ React.createElement(ProForm.Item, { label: "\u5F53\u524D\u72B6\u6001" }, /* @__PURE__ */ React.createElement(Status, { type: "withdraw-approval", val: record?.auditStatus })),
      /* @__PURE__ */ React.createElement(
        ProForm.Item,
        {
          label: "\u76EE\u6807\u72B6\u6001",
          name: "auditStatus",
          rules: [
            {
              required: true,
              message: "\u8BF7\u9009\u62E9\u76EE\u6807\u72B6\u6001"
            }
          ]
        },
        /* @__PURE__ */ React.createElement(
          ProFormRadio.Group,
          {
            options: [
              {
                label: "\u5DF2\u6253\u6B3E",
                value: 2
              },
              {
                label: "\u9000\u56DE",
                value: 4
              }
            ]
          }
        )
      )
    )
  ));
};
